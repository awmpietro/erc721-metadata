(this["webpackJsonpcontract-viewer"]=this["webpackJsonpcontract-viewer"]||[]).push([[0],{49:function(e,a,t){e.exports=t(87)},64:function(e,a,t){},65:function(e,a,t){},87:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),o=t.n(l),c=t(10),s=t(5),d=t(40),m=t.n(d),i=t(41),u=t.n(i),p=t(42),f=t(24),h={itf:[],data:null,loading:!1},b=Object(s.c)({contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_INTERFACE":return Object(f.a)({},e,{itf:a.payload.itf});case"CALL":return Object(f.a)({},e,{data:a.payload.data,loading:a.payload.loading});case"LOADING":return Object(f.a)({},e,{data:a.payload.loading});default:return e}}}),E=Object(s.a)(p.a,u.a,m.a)(s.d)(b),g=t(15),v=t(11),k=t(47),y=t(88),w=t(19),O=t(20),N=t(22),j=t(21),x=function(e){Object(N.a)(t,e);var a=Object(j.a)(t);function t(){return Object(w.a)(this,t),a.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0"},r.a.createElement(g.b,{to:"/contracts/erc721",className:"navbar-brand col-sm-3 col-md-2 mr-0"},"Get ERC721 Token Metadata"))}}]),t}(n.Component),I=Object(c.b)(null,(function(e){return Object(s.b)({},e)}))(x),S=(t(63),t(64),t(65),t(66),function(e){var a=e.component,t=Object(k.a)(e,["component"]);return r.a.createElement(v.a,Object.assign({},t,{render:function(e){return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(y.a,{fluid:!0},r.a.createElement(a,e)))}}))}),z=t(13),L=t(89),C=t(90),T=t(29),_=t.n(T),R=t(45),A=t(23),M=t.n(A),G=function(e,a){return function(){var t=Object(R.a)(_.a.mark((function t(n){var r,l,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,D(!0),t.next=4,M.a.post("".concat("https://us-central1-epik-user-web-app.cloudfunctions.net/erc721","/contracts/call"),{contractAddress:e,funcName:"tokenURI",tokenId:a});case 4:if(r=t.sent,(l={}).metadata=null,!U(r.data.metadata)){t.next=14;break}return t.next=10,M.a.get(r.data.metadata);case 10:o=t.sent,l.metadata=o.data,t.next=15;break;case 14:"object"===typeof r.data.metadata&&null!==r.data.metadata?l.metadata=JSON.parse(r.data.metadata):l.metadata=r.data.metadata;case 15:l.tokenName=r.data.name,l.symbol=r.data.symbol,l.totalSupply=r.data.totalSupply,l.ownerOf=r.data.ownerOf,n({type:"CALL",payload:{data:l,loading:!1}}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),n({type:"CALL",payload:{data:(c=t.t0,c.response?c.response.data:c.message)}});case 25:case"end":return t.stop()}var c}),t,null,[[0,22]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},D=function(e){return function(a){a({type:"LOADING",payload:{loading:e}})}},J=function(){return r.a.createElement("div",{className:"loading"},"Loading\u2026")},$=function(e){Object(N.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(w.a)(this,t),(n=a.call(this,e)).showMetadata=function(e){var a=e.metadata;if("object"===typeof a&&null!==a){var t=Object.keys(a),l=[];return t.forEach((function(e,t){return l.push(r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"".concat(e,": ")),n.validURL(a[e])))})),l}return e.metadata},n.validURL=function(e){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)?r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e):e},n.handleSubmit=n.handleSubmit.bind(Object(z.a)(n)),n.showMetadata=n.showMetadata.bind(Object(z.a)(n)),n.validURL=n.validURL.bind(Object(z.a)(n)),n.state={address:"",tokenId:""},n}return Object(O.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.call(this.state.address,this.state.tokenId)}},{key:"render",value:function(){var e=this;if(this.props.loading)return r.a.createElement(J,null);var a=this.props.data;return r.a.createElement("main",{role:"main",className:"col-md-12 ml-sm-auto col-lg-12 pt-3 px-4"},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"Get ERC721 Token Metadata")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(L.a,null,r.a.createElement(C.a,{md:12,lg:12,xs:12,sm:12},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(L.a,null,r.a.createElement(C.a,{md:6,lg:6,xs:12,sm:12},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"",placeholder:"Contract Address *",type:"text",className:"form-control",value:this.state.address,onChange:function(a){return e.setState({address:a.target.value})},required:!0}))),r.a.createElement(C.a,{md:6,lg:6,xs:12,sm:12},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"",placeholder:"Token Id *",type:"text",className:"form-control",value:this.state.tokenId,onChange:function(a){return e.setState({tokenId:a.target.value})},required:!0}))),r.a.createElement(C.a,{md:12,lg:12,xs:12,sm:12},r.a.createElement("hr",null)),r.a.createElement(C.a,{md:12,lg:12,xs:12,sm:12},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Send"))))))),"object"===typeof a&&null!==a&&void 0!==a?r.a.createElement(L.a,null,r.a.createElement(C.a,{md:12,lg:12,xs:12,sm:12},r.a.createElement("hr",null)),r.a.createElement(C.a,{md:12,lg:12,xs:12,sm:12},r.a.createElement(L.a,null,r.a.createElement(C.a,{md:6,lg:6,xs:12},r.a.createElement("h5",null,"ERC721 info "),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Token Contract Address:"," "),r.a.createElement("a",{href:"https://etherscan.io/address/".concat(this.state.address),target:"_blank",rel:"noopener noreferrer"},this.state.address)),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Token Name: "),r.a.createElement("a",{href:"https://etherscan.io/token/".concat(this.state.address),target:"_blank",rel:"noopener noreferrer"},a.tokenName?a.tokenName:"No information provided")),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Token Symbol: "),a.symbol?a.symbol:"No information provided"),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Token Total Supply:"," "),a.totalSupply?a.totalSupply:"No information provided")),r.a.createElement(C.a,{md:6,lg:6,xs:12},r.a.createElement("h5",null,"Token info "),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Item Id: "),r.a.createElement("a",{href:"https://etherscan.io/token/".concat(this.state.address,"?a=").concat(this.state.tokenId),target:"_blank",rel:"noopener noreferrer"},this.state.tokenId)),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Item Owner: "),r.a.createElement("a",{href:"https://etherscan.io/address/".concat(a.ownerOf),target:"_blank",rel:"noopener noreferrer"},a.ownerOf?a.ownerOf:"No information provided")),r.a.createElement("hr",null),r.a.createElement("h5",null,"Token metadata"),this.showMetadata(a))))):r.a.createElement(L.a,null,r.a.createElement(C.a,{md:12,lg:12,xs:12,sm:12},r.a.createElement("hr",null)),r.a.createElement(C.a,{md:12,lg:12,xs:12},r.a.createElement("h6",null,a))))))}}]),t}(n.Component),q=Object(c.b)((function(e){return{data:e.contracts.data,loading:e.contracts.loading}}),(function(e){return Object(s.b)({call:G,handleLoading:D},e)}))($),B=Object(c.b)(null,(function(e){return Object(s.b)({},e)}))((function(e){return r.a.createElement(g.a,{basename:"/erc721-metadata"},r.a.createElement(v.c,null,r.a.createElement(S,{path:"/",component:q}),r.a.createElement(S,{path:"/contracts/erc721",component:q})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,{store:E},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.85da86d1.chunk.js.map